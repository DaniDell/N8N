{"version":3,"file":"WorkflowsView-BMDRVCFf.js","sources":["../../src/components/WorkflowCard.vue","../../src/views/WorkflowsView.vue"],"sourcesContent":["<template>\n\t<n8n-card :class=\"$style.cardLink\" @click=\"onClick\">\n\t\t<template #header>\n\t\t\t<n8n-heading tag=\"h2\" bold :class=\"$style.cardHeading\" data-test-id=\"workflow-card-name\">\n\t\t\t\t{{ data.name }}\n\t\t\t</n8n-heading>\n\t\t</template>\n\t\t<div :class=\"$style.cardDescription\">\n\t\t\t<n8n-text color=\"text-light\" size=\"small\">\n\t\t\t\t<span v-show=\"data\"\n\t\t\t\t\t>{{ $locale.baseText('workflows.item.updated') }}\n\t\t\t\t\t<TimeAgo :date=\"String(data.updatedAt)\" /> |\n\t\t\t\t</span>\n\t\t\t\t<span v-show=\"data\" class=\"mr-2xs\"\n\t\t\t\t\t>{{ $locale.baseText('workflows.item.created') }} {{ formattedCreatedAtDate }}\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tv-if=\"settingsStore.areTagsEnabled && data.tags && data.tags.length > 0\"\n\t\t\t\t\tv-show=\"data\"\n\t\t\t\t>\n\t\t\t\t\t<n8n-tags\n\t\t\t\t\t\t:tags=\"data.tags\"\n\t\t\t\t\t\t:truncate-at=\"3\"\n\t\t\t\t\t\ttruncate\n\t\t\t\t\t\tdata-test-id=\"workflow-card-tags\"\n\t\t\t\t\t\t@click:tag=\"onClickTag\"\n\t\t\t\t\t\t@expand=\"onExpandTags\"\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t</n8n-text>\n\t\t</div>\n\t\t<template #append>\n\t\t\t<div :class=\"$style.cardActions\" @click.stop>\n\t\t\t\t<ProjectCardBadge :resource=\"data\" :personal-project=\"projectsStore.personalProject\" />\n\t\t\t\t<WorkflowActivator\n\t\t\t\t\tclass=\"mr-s\"\n\t\t\t\t\t:workflow-active=\"data.active\"\n\t\t\t\t\t:workflow-id=\"data.id\"\n\t\t\t\t\tdata-test-id=\"workflow-card-activator\"\n\t\t\t\t/>\n\n\t\t\t\t<n8n-action-toggle\n\t\t\t\t\t:actions=\"actions\"\n\t\t\t\t\ttheme=\"dark\"\n\t\t\t\t\tdata-test-id=\"workflow-card-actions\"\n\t\t\t\t\t@action=\"onAction\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</template>\n\t</n8n-card>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport type { PropType } from 'vue';\nimport type { IWorkflowDb, IUser } from '@/Interface';\nimport { DUPLICATE_MODAL_KEY, MODAL_CONFIRM, VIEWS, WORKFLOW_SHARE_MODAL_KEY } from '@/constants';\nimport { useMessage } from '@/composables/useMessage';\nimport { useToast } from '@/composables/useToast';\nimport type { PermissionsMap } from '@/permissions';\nimport type { WorkflowScope } from '@n8n/permissions';\nimport { getWorkflowPermissions } from '@/permissions';\nimport dateformat from 'dateformat';\nimport WorkflowActivator from '@/components/WorkflowActivator.vue';\nimport { mapStores } from 'pinia';\nimport { useUIStore } from '@/stores/ui.store';\nimport { useSettingsStore } from '@/stores/settings.store';\nimport { useUsersStore } from '@/stores/users.store';\nimport { useWorkflowsStore } from '@/stores/workflows.store';\nimport TimeAgo from '@/components/TimeAgo.vue';\nimport type { ProjectSharingData } from '@/features/projects/projects.types';\nimport { useProjectsStore } from '@/features/projects/projects.store';\nimport ProjectCardBadge from '@/features/projects/components/ProjectCardBadge.vue';\n\nexport const WORKFLOW_LIST_ITEM_ACTIONS = {\n\tOPEN: 'open',\n\tSHARE: 'share',\n\tDUPLICATE: 'duplicate',\n\tDELETE: 'delete',\n};\n\nexport default defineComponent({\n\tcomponents: {\n\t\tTimeAgo,\n\t\tWorkflowActivator,\n\t\tProjectCardBadge,\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object as PropType<IWorkflowDb>,\n\t\t\trequired: true,\n\t\t\tdefault: (): IWorkflowDb => ({\n\t\t\t\tid: '',\n\t\t\t\tcreatedAt: '',\n\t\t\t\tupdatedAt: '',\n\t\t\t\tactive: false,\n\t\t\t\tconnections: {},\n\t\t\t\tnodes: [],\n\t\t\t\tname: '',\n\t\t\t\tsharedWithProjects: [],\n\t\t\t\thomeProject: {} as ProjectSharingData,\n\t\t\t\tversionId: '',\n\t\t\t}),\n\t\t},\n\t\treadOnly: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tsetup() {\n\t\treturn {\n\t\t\t...useToast(),\n\t\t\t...useMessage(),\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapStores(useSettingsStore, useUIStore, useUsersStore, useWorkflowsStore, useProjectsStore),\n\t\tcurrentUser(): IUser {\n\t\t\treturn this.usersStore.currentUser || ({} as IUser);\n\t\t},\n\t\tworkflowPermissions(): PermissionsMap<WorkflowScope> {\n\t\t\treturn getWorkflowPermissions(this.data);\n\t\t},\n\t\tactions(): Array<{ label: string; value: string }> {\n\t\t\tconst actions = [\n\t\t\t\t{\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.item.open'),\n\t\t\t\t\tvalue: WORKFLOW_LIST_ITEM_ACTIONS.OPEN,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.item.share'),\n\t\t\t\t\tvalue: WORKFLOW_LIST_ITEM_ACTIONS.SHARE,\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tif (!this.readOnly) {\n\t\t\t\tactions.push({\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.item.duplicate'),\n\t\t\t\t\tvalue: WORKFLOW_LIST_ITEM_ACTIONS.DUPLICATE,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.workflowPermissions.delete && !this.readOnly) {\n\t\t\t\tactions.push({\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.item.delete'),\n\t\t\t\t\tvalue: WORKFLOW_LIST_ITEM_ACTIONS.DELETE,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn actions;\n\t\t},\n\t\tformattedCreatedAtDate(): string {\n\t\t\tconst currentYear = new Date().getFullYear().toString();\n\n\t\t\treturn dateformat(\n\t\t\t\tthis.data.createdAt,\n\t\t\t\t`d mmmm${String(this.data.createdAt).startsWith(currentYear) ? '' : ', yyyy'}`,\n\t\t\t);\n\t\t},\n\t},\n\tmethods: {\n\t\tasync onClick(event?: KeyboardEvent | PointerEvent) {\n\t\t\tif (event?.ctrlKey || event?.metaKey) {\n\t\t\t\tconst route = this.$router.resolve({\n\t\t\t\t\tname: VIEWS.WORKFLOW,\n\t\t\t\t\tparams: { name: this.data.id },\n\t\t\t\t});\n\t\t\t\twindow.open(route.href, '_blank');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait this.$router.push({\n\t\t\t\tname: VIEWS.WORKFLOW,\n\t\t\t\tparams: { name: this.data.id },\n\t\t\t});\n\t\t},\n\t\tonClickTag(tagId: string, event: PointerEvent) {\n\t\t\tevent.stopPropagation();\n\n\t\t\tthis.$emit('click:tag', tagId, event);\n\t\t},\n\t\tonExpandTags() {\n\t\t\tthis.$emit('expand:tags');\n\t\t},\n\t\tasync onAction(action: string) {\n\t\t\tif (action === WORKFLOW_LIST_ITEM_ACTIONS.OPEN) {\n\t\t\t\tawait this.onClick();\n\t\t\t} else if (action === WORKFLOW_LIST_ITEM_ACTIONS.DUPLICATE) {\n\t\t\t\tthis.uiStore.openModalWithData({\n\t\t\t\t\tname: DUPLICATE_MODAL_KEY,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tid: this.data.id,\n\t\t\t\t\t\tname: this.data.name,\n\t\t\t\t\t\ttags: (this.data.tags ?? []).map((tag) =>\n\t\t\t\t\t\t\ttypeof tag !== 'string' && 'id' in tag ? tag.id : tag,\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else if (action === WORKFLOW_LIST_ITEM_ACTIONS.SHARE) {\n\t\t\t\tthis.uiStore.openModalWithData({\n\t\t\t\t\tname: WORKFLOW_SHARE_MODAL_KEY,\n\t\t\t\t\tdata: { id: this.data.id },\n\t\t\t\t});\n\n\t\t\t\tthis.$telemetry.track('User opened sharing modal', {\n\t\t\t\t\tworkflow_id: this.data.id,\n\t\t\t\t\tuser_id_sharer: this.currentUser.id,\n\t\t\t\t\tsub_view: 'Workflows listing',\n\t\t\t\t});\n\t\t\t} else if (action === WORKFLOW_LIST_ITEM_ACTIONS.DELETE) {\n\t\t\t\tconst deleteConfirmed = await this.confirm(\n\t\t\t\t\tthis.$locale.baseText('mainSidebar.confirmMessage.workflowDelete.message', {\n\t\t\t\t\t\tinterpolate: { workflowName: this.data.name },\n\t\t\t\t\t}),\n\t\t\t\t\tthis.$locale.baseText('mainSidebar.confirmMessage.workflowDelete.headline'),\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t\tconfirmButtonText: this.$locale.baseText(\n\t\t\t\t\t\t\t'mainSidebar.confirmMessage.workflowDelete.confirmButtonText',\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcancelButtonText: this.$locale.baseText(\n\t\t\t\t\t\t\t'mainSidebar.confirmMessage.workflowDelete.cancelButtonText',\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\tif (deleteConfirmed !== MODAL_CONFIRM) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tawait this.workflowsStore.deleteWorkflow(this.data.id);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tthis.showError(error, this.$locale.baseText('generic.deleteWorkflowError'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Reset tab title since workflow is deleted.\n\t\t\t\tthis.showMessage({\n\t\t\t\t\ttitle: this.$locale.baseText('mainSidebar.showMessage.handleSelect1.title'),\n\t\t\t\t\ttype: 'success',\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.cardLink {\n\ttransition: box-shadow 0.3s ease;\n\tcursor: pointer;\n\tpadding: 0;\n\talign-items: stretch;\n\n\t&:hover {\n\t\tbox-shadow: 0 2px 8px rgba(#441c17, 0.1);\n\t}\n}\n\n.cardHeading {\n\tfont-size: var(--font-size-s);\n\tword-break: break-word;\n\tpadding: var(--spacing-s) 0 0 var(--spacing-s);\n\n\tspan {\n\t\tcolor: var(--color-text-light);\n\t}\n}\n\n.cardDescription {\n\tmin-height: 19px;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 0 0 var(--spacing-s) var(--spacing-s);\n}\n\n.cardActions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\talign-self: stretch;\n\tpadding: 0 var(--spacing-s) 0 0;\n\tcursor: default;\n}\n</style>\n","<template>\n\t<ResourcesListLayout\n\t\tref=\"layout\"\n\t\tresource-key=\"workflows\"\n\t\t:resources=\"allWorkflows\"\n\t\t:filters=\"filters\"\n\t\t:additional-filters-handler=\"onFilter\"\n\t\t:type-props=\"{ itemSize: 80 }\"\n\t\t:shareable=\"isShareable\"\n\t\t:initialize=\"initialize\"\n\t\t:disabled=\"readOnlyEnv\"\n\t\t@click:add=\"addWorkflow\"\n\t\t@update:filters=\"onFiltersUpdated\"\n\t>\n\t\t<template #header>\n\t\t\t<ProjectTabs v-if=\"showProjectTabs\" />\n\t\t</template>\n\t\t<template #add-button=\"{ disabled }\">\n\t\t\t<n8n-tooltip :disabled=\"!readOnlyEnv\">\n\t\t\t\t<div>\n\t\t\t\t\t<n8n-button\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\t\tdata-test-id=\"resources-list-add\"\n\t\t\t\t\t\t@click=\"addWorkflow\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ addWorkflowButtonText }}\n\t\t\t\t\t</n8n-button>\n\t\t\t\t</div>\n\t\t\t\t<template #content>\n\t\t\t\t\t<i18n-t tag=\"span\" keypath=\"mainSidebar.workflows.readOnlyEnv.tooltip\">\n\t\t\t\t\t\t<template #link>\n\t\t\t\t\t\t\t<a target=\"_blank\" href=\"https://docs.n8n.io/source-control-environments/\">\n\t\t\t\t\t\t\t\t{{ $locale.baseText('mainSidebar.workflows.readOnlyEnv.tooltip.link') }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</i18n-t>\n\t\t\t\t</template>\n\t\t\t</n8n-tooltip>\n\t\t</template>\n\t\t<template #default=\"{ data, updateItemSize }\">\n\t\t\t<WorkflowCard\n\t\t\t\tdata-test-id=\"resources-list-item\"\n\t\t\t\tclass=\"mb-2xs\"\n\t\t\t\t:data=\"data\"\n\t\t\t\t:read-only=\"readOnlyEnv\"\n\t\t\t\t@expand:tags=\"updateItemSize(data)\"\n\t\t\t\t@click:tag=\"onClickTag\"\n\t\t\t/>\n\t\t</template>\n\t\t<template #empty>\n\t\t\t<div class=\"text-center mt-s\">\n\t\t\t\t<n8n-heading tag=\"h2\" size=\"xlarge\" class=\"mb-2xs\">\n\t\t\t\t\t{{\n\t\t\t\t\t\tcurrentUser.firstName\n\t\t\t\t\t\t\t? $locale.baseText('workflows.empty.heading', {\n\t\t\t\t\t\t\t\t\tinterpolate: { name: currentUser.firstName },\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t: $locale.baseText('workflows.empty.heading.userNotSetup')\n\t\t\t\t\t}}\n\t\t\t\t</n8n-heading>\n\t\t\t\t<n8n-text size=\"large\" color=\"text-base\">\n\t\t\t\t\t{{\n\t\t\t\t\t\t$locale.baseText(\n\t\t\t\t\t\t\treadOnlyEnv\n\t\t\t\t\t\t\t\t? 'workflows.empty.description.readOnlyEnv'\n\t\t\t\t\t\t\t\t: 'workflows.empty.description',\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</n8n-text>\n\t\t\t</div>\n\t\t\t<div v-if=\"!readOnlyEnv\" :class=\"['text-center', 'mt-2xl', $style.actionsContainer]\">\n\t\t\t\t<a\n\t\t\t\t\tv-if=\"isSalesUser\"\n\t\t\t\t\t:href=\"getTemplateRepositoryURL()\"\n\t\t\t\t\t:class=\"$style.emptyStateCard\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<n8n-card\n\t\t\t\t\t\thoverable\n\t\t\t\t\t\tdata-test-id=\"browse-sales-templates-card\"\n\t\t\t\t\t\t@click=\"trackCategoryLinkClick('Sales')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<n8n-icon :class=\"$style.emptyStateCardIcon\" icon=\"box-open\" />\n\t\t\t\t\t\t<n8n-text size=\"large\" class=\"mt-xs\" color=\"text-base\">\n\t\t\t\t\t\t\t{{ $locale.baseText('workflows.empty.browseTemplates') }}\n\t\t\t\t\t\t</n8n-text>\n\t\t\t\t\t</n8n-card>\n\t\t\t\t</a>\n\t\t\t\t<n8n-card\n\t\t\t\t\t:class=\"$style.emptyStateCard\"\n\t\t\t\t\thoverable\n\t\t\t\t\tdata-test-id=\"new-workflow-card\"\n\t\t\t\t\t@click=\"addWorkflow\"\n\t\t\t\t>\n\t\t\t\t\t<n8n-icon :class=\"$style.emptyStateCardIcon\" icon=\"file\" />\n\t\t\t\t\t<n8n-text size=\"large\" class=\"mt-xs\" color=\"text-base\">\n\t\t\t\t\t\t{{ $locale.baseText('workflows.empty.startFromScratch') }}\n\t\t\t\t\t</n8n-text>\n\t\t\t\t</n8n-card>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #filters=\"{ setKeyValue }\">\n\t\t\t<div v-if=\"settingsStore.areTagsEnabled\" class=\"mb-s\">\n\t\t\t\t<n8n-input-label\n\t\t\t\t\t:label=\"$locale.baseText('workflows.filters.tags')\"\n\t\t\t\t\t:bold=\"false\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"text-base\"\n\t\t\t\t\tclass=\"mb-3xs\"\n\t\t\t\t/>\n\t\t\t\t<TagsDropdown\n\t\t\t\t\t:placeholder=\"$locale.baseText('workflowOpen.filterWorkflows')\"\n\t\t\t\t\t:model-value=\"filters.tags\"\n\t\t\t\t\t:create-enabled=\"false\"\n\t\t\t\t\t@update:model-value=\"setKeyValue('tags', $event)\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div class=\"mb-s\">\n\t\t\t\t<n8n-input-label\n\t\t\t\t\t:label=\"$locale.baseText('workflows.filters.status')\"\n\t\t\t\t\t:bold=\"false\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"text-base\"\n\t\t\t\t\tclass=\"mb-3xs\"\n\t\t\t\t/>\n\t\t\t\t<n8n-select\n\t\t\t\t\tdata-test-id=\"status-dropdown\"\n\t\t\t\t\t:model-value=\"filters.status\"\n\t\t\t\t\t@update:model-value=\"setKeyValue('status', $event)\"\n\t\t\t\t>\n\t\t\t\t\t<n8n-option\n\t\t\t\t\t\tv-for=\"option in statusFilterOptions\"\n\t\t\t\t\t\t:key=\"option.label\"\n\t\t\t\t\t\t:label=\"option.label\"\n\t\t\t\t\t\t:value=\"option.value\"\n\t\t\t\t\t\tdata-test-id=\"status\"\n\t\t\t\t\t>\n\t\t\t\t\t</n8n-option>\n\t\t\t\t</n8n-select>\n\t\t\t</div>\n\t\t</template>\n\t</ResourcesListLayout>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport ResourcesListLayout from '@/components/layouts/ResourcesListLayout.vue';\nimport WorkflowCard from '@/components/WorkflowCard.vue';\nimport { EnterpriseEditionFeature, VIEWS } from '@/constants';\nimport type { ITag, IUser, IWorkflowDb } from '@/Interface';\nimport TagsDropdown from '@/components/TagsDropdown.vue';\nimport { mapStores } from 'pinia';\nimport { useUIStore } from '@/stores/ui.store';\nimport { useSettingsStore } from '@/stores/settings.store';\nimport { useUsersStore } from '@/stores/users.store';\nimport { useWorkflowsStore } from '@/stores/workflows.store';\nimport { useSourceControlStore } from '@/stores/sourceControl.store';\nimport { useTagsStore } from '@/stores/tags.store';\nimport { useProjectsStore } from '@/features/projects/projects.store';\nimport ProjectTabs from '@/features/projects/components/ProjectTabs.vue';\nimport { useTemplatesStore } from '@/stores/templates.store';\n\ntype IResourcesListLayoutInstance = InstanceType<typeof ResourcesListLayout>;\n\ninterface Filters {\n\tsearch: string;\n\thomeProject: string;\n\tstatus: string | boolean;\n\ttags: string[];\n}\n\nconst StatusFilter = {\n\tACTIVE: true,\n\tDEACTIVATED: false,\n\tALL: '',\n};\n\nconst WorkflowsView = defineComponent({\n\tname: 'WorkflowsView',\n\tcomponents: {\n\t\tResourcesListLayout,\n\t\tWorkflowCard,\n\t\tTagsDropdown,\n\t\tProjectTabs,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfilters: {\n\t\t\t\tsearch: '',\n\t\t\t\thomeProject: '',\n\t\t\t\tstatus: StatusFilter.ALL,\n\t\t\t\ttags: [],\n\t\t\t} as Filters,\n\t\t\tsourceControlStoreUnsubscribe: () => {},\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapStores(\n\t\t\tuseSettingsStore,\n\t\t\tuseUIStore,\n\t\t\tuseUsersStore,\n\t\t\tuseWorkflowsStore,\n\t\t\tuseSourceControlStore,\n\t\t\tuseTagsStore,\n\t\t\tuseProjectsStore,\n\t\t\tuseTemplatesStore,\n\t\t),\n\t\treadOnlyEnv(): boolean {\n\t\t\treturn this.sourceControlStore.preferences.branchReadOnly;\n\t\t},\n\t\tcurrentUser(): IUser {\n\t\t\treturn this.usersStore.currentUser || ({} as IUser);\n\t\t},\n\t\tallWorkflows(): IWorkflowDb[] {\n\t\t\treturn this.workflowsStore.allWorkflows;\n\t\t},\n\t\tisShareable(): boolean {\n\t\t\treturn this.settingsStore.isEnterpriseFeatureEnabled(EnterpriseEditionFeature.Sharing);\n\t\t},\n\t\tstatusFilterOptions(): Array<{ label: string; value: string | boolean }> {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.filters.status.all'),\n\t\t\t\t\tvalue: StatusFilter.ALL,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.filters.status.active'),\n\t\t\t\t\tvalue: StatusFilter.ACTIVE,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.filters.status.deactivated'),\n\t\t\t\t\tvalue: StatusFilter.DEACTIVATED,\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t\tuserRole() {\n\t\t\tconst role = this.usersStore.currentUserCloudInfo?.role;\n\n\t\t\tif (role) {\n\t\t\t\treturn role;\n\t\t\t}\n\n\t\t\tconst answers = this.usersStore.currentUser?.personalizationAnswers;\n\t\t\tif (answers && 'role' in answers) {\n\t\t\t\treturn answers.role;\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t},\n\t\tisSalesUser() {\n\t\t\tif (!this.userRole) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn ['Sales', 'sales-and-marketing'].includes(this.userRole);\n\t\t},\n\t\tshowProjectTabs() {\n\t\t\treturn (\n\t\t\t\t!!this.$route.params.projectId ||\n\t\t\t\t!!this.allWorkflows.length ||\n\t\t\t\tthis.projectsStore.myProjects.length > 1\n\t\t\t);\n\t\t},\n\t\taddWorkflowButtonText() {\n\t\t\treturn this.projectsStore.currentProject\n\t\t\t\t? this.$locale.baseText('workflows.project.add')\n\t\t\t\t: this.$locale.baseText('workflows.add');\n\t\t},\n\t},\n\twatch: {\n\t\t'filters.tags'() {\n\t\t\tthis.sendFiltersTelemetry('tags');\n\t\t},\n\t\t'$route.params.projectId'() {\n\t\t\tvoid this.initialize();\n\t\t},\n\t},\n\tasync mounted() {\n\t\tawait this.setFiltersFromQueryString();\n\n\t\tvoid this.usersStore.showPersonalizationSurvey();\n\n\t\tthis.sourceControlStoreUnsubscribe = this.sourceControlStore.$onAction(({ name, after }) => {\n\t\t\tif (name === 'pullWorkfolder' && after) {\n\t\t\t\tafter(() => {\n\t\t\t\t\tvoid this.initialize();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tbeforeUnmount() {\n\t\tthis.sourceControlStoreUnsubscribe();\n\t},\n\tmethods: {\n\t\tonFiltersUpdated(filters: Filters) {\n\t\t\tthis.filters = filters;\n\t\t\tthis.saveFiltersOnQueryString();\n\t\t},\n\t\taddWorkflow() {\n\t\t\tthis.uiStore.nodeViewInitialized = false;\n\t\t\tvoid this.$router.push({\n\t\t\t\tname: VIEWS.NEW_WORKFLOW,\n\t\t\t\tquery: { projectId: this.$route?.params?.projectId },\n\t\t\t});\n\n\t\t\tthis.$telemetry.track('User clicked add workflow button', {\n\t\t\t\tsource: 'Workflows list',\n\t\t\t});\n\t\t},\n\t\tgetTemplateRepositoryURL() {\n\t\t\treturn this.templatesStore.websiteTemplateRepositoryURL;\n\t\t},\n\t\ttrackCategoryLinkClick(category: string) {\n\t\t\tthis.$telemetry.track(`User clicked Browse ${category} Templates`, {\n\t\t\t\trole: this.usersStore.currentUserCloudInfo?.role,\n\t\t\t\tactive_workflow_count: this.workflowsStore.activeWorkflows.length,\n\t\t\t});\n\t\t},\n\t\tasync initialize() {\n\t\t\tawait Promise.all([\n\t\t\t\tthis.usersStore.fetchUsers(),\n\t\t\t\tthis.workflowsStore.fetchAllWorkflows(this.$route?.params?.projectId as string | undefined),\n\t\t\t\tthis.workflowsStore.fetchActiveWorkflows(),\n\t\t\t]);\n\t\t},\n\t\tonClickTag(tagId: string) {\n\t\t\tif (!this.filters.tags.includes(tagId)) {\n\t\t\t\tthis.filters.tags.push(tagId);\n\t\t\t}\n\t\t},\n\t\tonFilter(\n\t\t\tresource: IWorkflowDb,\n\t\t\tfilters: { tags: string[]; search: string; status: string | boolean },\n\t\t\tmatches: boolean,\n\t\t): boolean {\n\t\t\tif (this.settingsStore.areTagsEnabled && filters.tags.length > 0) {\n\t\t\t\tmatches =\n\t\t\t\t\tmatches &&\n\t\t\t\t\tfilters.tags.every((tag) =>\n\t\t\t\t\t\t(resource.tags as ITag[])?.find((resourceTag) =>\n\t\t\t\t\t\t\ttypeof resourceTag === 'object'\n\t\t\t\t\t\t\t\t? `${resourceTag.id}` === `${tag}`\n\t\t\t\t\t\t\t\t: `${resourceTag}` === `${tag}`,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (filters.status !== '') {\n\t\t\t\tmatches = matches && resource.active === filters.status;\n\t\t\t}\n\n\t\t\treturn matches;\n\t\t},\n\t\tsendFiltersTelemetry(source: string) {\n\t\t\t(this.$refs.layout as IResourcesListLayoutInstance).sendFiltersTelemetry(source);\n\t\t},\n\t\tsaveFiltersOnQueryString() {\n\t\t\tconst query: { [key: string]: string } = {};\n\n\t\t\tif (this.filters.search) {\n\t\t\t\tquery.search = this.filters.search;\n\t\t\t}\n\n\t\t\tif (typeof this.filters.status !== 'string') {\n\t\t\t\tquery.status = this.filters.status.toString();\n\t\t\t}\n\n\t\t\tif (this.filters.tags.length) {\n\t\t\t\tquery.tags = this.filters.tags.join(',');\n\t\t\t}\n\n\t\t\tif (this.filters.homeProject) {\n\t\t\t\tquery.homeProject = this.filters.homeProject;\n\t\t\t}\n\n\t\t\tvoid this.$router.replace({\n\t\t\t\tquery: Object.keys(query).length ? query : undefined,\n\t\t\t});\n\t\t},\n\t\tisValidProjectId(projectId: string) {\n\t\t\treturn this.projectsStore.projects.some((project) => project.id === projectId);\n\t\t},\n\t\tasync setFiltersFromQueryString() {\n\t\t\tconst { tags, status, search, homeProject } = this.$route.query;\n\n\t\t\tconst filtersToApply: { [key: string]: string | string[] | boolean } = {};\n\n\t\t\tif (homeProject && typeof homeProject === 'string') {\n\t\t\t\tawait this.projectsStore.getAllProjects();\n\t\t\t\tif (this.isValidProjectId(homeProject)) {\n\t\t\t\t\tfiltersToApply.homeProject = homeProject;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (search && typeof search === 'string') {\n\t\t\t\tfiltersToApply.search = search;\n\t\t\t}\n\n\t\t\tif (tags && typeof tags === 'string') {\n\t\t\t\tconst currentTags = this.tagsStore.allTags.map((tag) => tag.id);\n\t\t\t\tconst savedTags = tags.split(',').filter((tag) => currentTags.includes(tag));\n\t\t\t\tif (savedTags.length) {\n\t\t\t\t\tfiltersToApply.tags = savedTags;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tstatus &&\n\t\t\t\ttypeof status === 'string' &&\n\t\t\t\t[StatusFilter.ACTIVE.toString(), StatusFilter.DEACTIVATED.toString()].includes(status)\n\t\t\t) {\n\t\t\t\tfiltersToApply.status = status === 'true';\n\t\t\t}\n\n\t\t\tif (Object.keys(filtersToApply).length) {\n\t\t\t\tthis.filters = {\n\t\t\t\t\t...this.filters,\n\t\t\t\t\t...filtersToApply,\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t},\n});\n\nexport default WorkflowsView;\n</script>\n\n<style lang=\"scss\" module>\n.actionsContainer {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.emptyStateCard {\n\twidth: 192px;\n\ttext-align: center;\n\tdisplay: inline-flex;\n\theight: 230px;\n\n\t& + & {\n\t\tmargin-left: var(--spacing-s);\n\t}\n\n\t&:hover {\n\t\tsvg {\n\t\t\tcolor: var(--color-primary);\n\t\t}\n\t}\n}\n\n.emptyStateCardIcon {\n\tfont-size: 48px;\n\n\tsvg {\n\t\twidth: 48px !important;\n\t\tcolor: var(--color-foreground-dark);\n\t\ttransition: color 0.3s ease;\n\t}\n}\n</style>\n"],"names":["WORKFLOW_LIST_ITEM_ACTIONS","_sfc_main$1","defineComponent","TimeAgo","WorkflowActivator","ProjectCardBadge","useToast","useMessage","mapStores","useSettingsStore","useUIStore","useUsersStore","useWorkflowsStore","useProjectsStore","getWorkflowPermissions","actions","currentYear","dateformat","event","route","VIEWS","tagId","action","DUPLICATE_MODAL_KEY","tag","WORKFLOW_SHARE_MODAL_KEY","MODAL_CONFIRM","error","_resolveComponent","_openBlock","_createBlock","_component_n8n_card","_normalizeClass","_ctx","_withCtx","_createVNode","_component_n8n_heading","_createTextVNode","_toDisplayString","_createElementVNode","_cache","_withModifiers","_component_ProjectCardBadge","_component_WorkflowActivator","_component_n8n_action_toggle","_component_n8n_text","_withDirectives","data","_component_TimeAgo","_vShow","settingsStore","_createElementBlock","_hoisted_1","_component_n8n_tags","onExpandTags","_createCommentVNode","StatusFilter","WorkflowsView","ResourcesListLayout","WorkflowCard","TagsDropdown","ProjectTabs","useSourceControlStore","useTagsStore","useTemplatesStore","EnterpriseEditionFeature","role","_a","answers","_b","name","after","filters","category","resource","matches","resourceTag","source","query","projectId","project","tags","status","search","homeProject","filtersToApply","currentTags","savedTags","_sfc_main","_hoisted_3","_hoisted_4","_component_ResourcesListLayout","initialize","readOnlyEnv","addWorkflow","_component_ProjectTabs","disabled","_component_n8n_tooltip","_component_i18n_t","_component_n8n_button","updateItemSize","_component_WorkflowCard","onClickTag","_hoisted_2","$locale","isSalesUser","$event","_component_n8n_icon","$style","setKeyValue","_component_n8n_input_label","_component_TagsDropdown","_hoisted_5","_component_n8n_select","_Fragment","_renderList","option","_component_n8n_option"],"mappings":"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"}