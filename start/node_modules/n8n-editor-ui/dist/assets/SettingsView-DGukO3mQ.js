import{_ as N,i as $,b as R,l as v,V as t,r as C,a2 as I,a1 as f}from"./index-DEwaaDne.js";import{m as y}from"./pinia-BAhPp3pQ.js";import{G as d,ag as n,l as g,m as _,U as o,O as r,p as a,I as i,S,T as p,K as O}from"./vendor-Dv5OeN6t.js";import{_ as h}from"./n8n-B6cfQsVX.js";import"./axios-Mm4CS0gO.js";import"./flatted-DN8lQ2XG.js";import"./@vueuse/core-9E8Shwsg.js";import"./lodash-es-BxV-E8rt.js";import"./@n8n/permissions-BxxteU-C.js";import"./dateformat-B9ocXky7.js";import"./vue-i18n-Delvyc9x.js";import"./uuid-SoommWqA.js";import"./luxon-CLwAIbs0.js";import"./@n8n/codemirror-lang-sql-x14jMqbG.js";import"./@lezer/common-B6ct0j_v.js";import"./prettier-bS6l4Vb1.js";import"./@jsplumb/util-DS-9vq_E.js";import"./@jsplumb/core-CVBraiyY.js";import"./@jsplumb/common-CF-b-6-M.js";import"./@jsplumb/connector-bezier-BGU0Ovbw.js";import"./@jsplumb/browser-ui-BVF2KoJK.js";import"./codemirror-lang-html-n8n-DcTmlMkf.js";import"./@n8n/codemirror-lang-Qkdx7NoQ.js";import"./esprima-next-nhoSXAeq.js";import"./fast-json-stable-stringify-LluJPcs3.js";import"./timeago.js-CiyKClrF.js";import"./qrcode.vue-BGkPba5A.js";import"./vue3-touch-events-mV0oX_Sl.js";import"./chart.js-343vZi4M.js";const U=d({name:"SettingsSidebar",mixins:[N],computed:{...y(v,R,$),settingsFakeDoorFeatures(){return this.uiStore.getFakeDoorByLocation("settings")},sidebarMenuItems(){const e=[{id:"settings-usage-and-plan",icon:"chart-bar",label:this.$locale.baseText("settings.usageAndPlan.title"),position:"top",available:this.canAccessUsageAndPlan(),route:{to:{name:t.USAGE}}},{id:"settings-personal",icon:"user-circle",label:this.$locale.baseText("settings.personal"),position:"top",available:this.canAccessPersonalSettings(),route:{to:{name:t.PERSONAL_SETTINGS}}},{id:"settings-users",icon:"user-friends",label:this.$locale.baseText("settings.users"),position:"top",available:this.canAccessUsersSettings(),route:{to:{name:t.USERS_SETTINGS}}},{id:"settings-api",icon:"plug",label:this.$locale.baseText("settings.n8napi"),position:"top",available:this.canAccessApiSettings(),route:{to:{name:t.API_SETTINGS}}},{id:"settings-external-secrets",icon:"vault",label:this.$locale.baseText("settings.externalSecrets.title"),position:"top",available:this.canAccessExternalSecrets(),route:{to:{name:t.EXTERNAL_SECRETS_SETTINGS}}},{id:"settings-source-control",icon:"code-branch",label:this.$locale.baseText("settings.sourceControl.title"),position:"top",available:this.canAccessSourceControl(),route:{to:{name:t.SOURCE_CONTROL}}},{id:"settings-sso",icon:"user-lock",label:this.$locale.baseText("settings.sso"),position:"top",available:this.canAccessSso(),route:{to:{name:t.SSO_SETTINGS}}},{id:"settings-ldap",icon:"network-wired",label:this.$locale.baseText("settings.ldap"),position:"top",available:this.canAccessLdapSettings(),route:{to:{name:t.LDAP_SETTINGS}}},{id:"settings-workersview",icon:"project-diagram",label:this.$locale.baseText("mainSidebar.workersView"),position:"top",available:this.settingsStore.isQueueModeEnabled&&C(["rbac"],{rbac:{scope:"workersView:manage"}}),route:{to:{name:t.WORKER_VIEW}}}];for(const s of this.settingsFakeDoorFeatures)s.uiLocations.includes("settings")&&e.push({id:s.id,icon:s.icon??"question",label:this.$locale.baseText(s.featureName),position:"top",available:!0,activateOnRoutePaths:[`/settings/coming-soon/${s.id}`]});return e.push({id:"settings-log-streaming",icon:"sign-in-alt",label:this.$locale.baseText("settings.log-streaming"),position:"top",available:this.canAccessLogStreamingSettings(),route:{to:{name:t.LOG_STREAMING_SETTINGS}}}),e.push({id:"settings-community-nodes",icon:"cube",label:this.$locale.baseText("settings.communityNodes"),position:"top",available:this.canAccessCommunityNodes(),route:{to:{name:t.COMMUNITY_NODES}}}),e}},methods:{canAccessPersonalSettings(){return this.canUserAccessRouteByName(t.PERSONAL_SETTINGS)},canAccessUsersSettings(){return this.canUserAccessRouteByName(t.USERS_SETTINGS)},canAccessCommunityNodes(){return this.canUserAccessRouteByName(t.COMMUNITY_NODES)},canAccessApiSettings(){return this.settingsStore.isPublicApiEnabled&&this.canUserAccessRouteByName(t.API_SETTINGS)},canAccessLdapSettings(){return this.canUserAccessRouteByName(t.LDAP_SETTINGS)},canAccessLogStreamingSettings(){return this.canUserAccessRouteByName(t.LOG_STREAMING_SETTINGS)},canAccessUsageAndPlan(){return this.canUserAccessRouteByName(t.USAGE)},canAccessExternalSecrets(){return this.canUserAccessRouteByName(t.EXTERNAL_SECRETS_SETTINGS)},canAccessSourceControl(){return this.canUserAccessRouteByName(t.SOURCE_CONTROL)},canAccessSso(){return this.canUserAccessRouteByName(t.SSO_SETTINGS)},onVersionClick(){this.uiStore.openModal(I)},openUpdatesPanel(){this.uiStore.openModal(f)},async handleSelect(e){switch(e){case"users":case"logging":this.$router.push({name:t.FAKE_DOOR,params:{featureId:e}}).catch(()=>{});break}}}}),w="_container_w9grj_1",G="_returnButton_w9grj_10",B="_versionContainer_w9grj_18",k={container:w,returnButton:G,versionContainer:B},L={class:"mr-xs"};function M(e,s,c,l,b,T){const u=n("font-awesome-icon"),m=n("n8n-heading"),A=n("n8n-link"),E=n("n8n-menu");return g(),_("div",{class:i(e.$style.container)},[o(E,{items:e.sidebarMenuItems,onSelect:e.handleSelect},{header:r(()=>[a("div",{class:i(e.$style.returnButton),"data-test-id":"settings-back",onClick:s[0]||(s[0]=H=>e.$emit("return"))},[a("i",L,[o(u,{icon:"arrow-left"})]),o(m,{size:"large",bold:!0},{default:r(()=>[S(p(e.$locale.baseText("settings")),1)]),_:1})],2)]),menuSuffix:r(()=>[a("div",{class:i(e.$style.versionContainer)},[o(A,{size:"small",onClick:e.onVersionClick},{default:r(()=>[S(p(e.$locale.baseText("settings.version"))+" "+p(e.rootStore.versionCli),1)]),_:1},8,["onClick"])],2)]),_:1},8,["items","onSelect"])],2)}const P={$style:k},V=h(U,[["render",M],["__cssModules",P]]),x=d({name:"SettingsView",components:{SettingsSidebar:V},beforeRouteEnter(e,s,c){c(l=>{l.previousRoute=s})},data(){return{previousRoute:null}},methods:{onReturn(){this.$router.push(this.previousRoute?this.previousRoute.path:{name:t.HOMEPAGE})}}}),D=x,F="_container_11adc_1",K="_contentContainer_11adc_8 _container_11adc_1",j="_content_11adc_8",Y={container:F,contentContainer:K,content:j};function z(e,s,c,l,b,T){const u=n("SettingsSidebar"),m=n("router-view");return g(),_("div",{class:i(e.$style.container)},[o(u,{onReturn:e.onReturn},null,8,["onReturn"]),a("div",{class:i(e.$style.contentContainer)},[a("div",{class:i(e.$style.content)},[o(m,O({name:"settingsView"},e.$attrs),null,16)],2)],2)],2)}const W={$style:Y},Re=h(D,[["render",z],["__cssModules",W]]);export{Re as default};
//# sourceMappingURL=SettingsView-DGukO3mQ.js.map
