{"version":3,"file":"SigninView-CsK0r98m.js","sources":["../../src/views/MfaView.vue","../../src/views/SigninView.vue"],"sourcesContent":["<template>\n\t<div :class=\"$style.container\">\n\t\t<div :class=\"$style.logoContainer\">\n\t\t\t<Logo />\n\t\t</div>\n\t\t<n8n-card>\n\t\t\t<div :class=\"$style.headerContainer\">\n\t\t\t\t<n8n-heading size=\"xlarge\" color=\"text-dark\">{{\n\t\t\t\t\tshowRecoveryCodeForm\n\t\t\t\t\t\t? $locale.baseText('mfa.recovery.modal.title')\n\t\t\t\t\t\t: $locale.baseText('mfa.code.modal.title')\n\t\t\t\t}}</n8n-heading>\n\t\t\t</div>\n\t\t\t<div :class=\"[$style.formContainer, reportError ? $style.formError : '']\">\n\t\t\t\t<n8n-form-inputs\n\t\t\t\t\tv-if=\"formInputs\"\n\t\t\t\t\tdata-test-id=\"mfa-login-form\"\n\t\t\t\t\t:inputs=\"formInputs\"\n\t\t\t\t\t:event-bus=\"formBus\"\n\t\t\t\t\t@input=\"onInput\"\n\t\t\t\t\t@submit=\"onSubmit\"\n\t\t\t\t/>\n\t\t\t\t<div :class=\"$style.infoBox\">\n\t\t\t\t\t<n8n-text\n\t\t\t\t\t\tv-if=\"!showRecoveryCodeForm && !reportError\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tcolor=\"text-base\"\n\t\t\t\t\t\t:bold=\"false\"\n\t\t\t\t\t\t>{{ $locale.baseText('mfa.code.input.info') }}\n\t\t\t\t\t\t<a data-test-id=\"mfa-enter-recovery-code-button\" @click=\"onRecoveryCodeClick\">{{\n\t\t\t\t\t\t\t$locale.baseText('mfa.code.input.info.action')\n\t\t\t\t\t\t}}</a></n8n-text\n\t\t\t\t\t>\n\t\t\t\t\t<n8n-text v-if=\"reportError\" color=\"danger\" size=\"small\"\n\t\t\t\t\t\t>{{ formError }}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tv-if=\"!showRecoveryCodeForm\"\n\t\t\t\t\t\t\t:class=\"$style.recoveryCodeLink\"\n\t\t\t\t\t\t\t@click=\"onRecoveryCodeClick\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ $locale.baseText('mfa.recovery.input.info.action') }}</a\n\t\t\t\t\t\t>\n\t\t\t\t\t</n8n-text>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<n8n-button\n\t\t\t\t\tfloat=\"right\"\n\t\t\t\t\t:loading=\"verifyingMfaToken\"\n\t\t\t\t\t:label=\"\n\t\t\t\t\t\tshowRecoveryCodeForm\n\t\t\t\t\t\t\t? $locale.baseText('mfa.recovery.button.verify')\n\t\t\t\t\t\t\t: $locale.baseText('mfa.code.button.continue')\n\t\t\t\t\t\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t:disabled=\"!hasAnyChanges\"\n\t\t\t\t\t@click=\"onSaveClick\"\n\t\t\t\t/>\n\t\t\t\t<n8n-button\n\t\t\t\t\tfloat=\"left\"\n\t\t\t\t\t:label=\"$locale.baseText('mfa.button.back')\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t@click=\"onBackClick\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</n8n-card>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport type { IFormInputs } from '@/Interface';\nimport Logo from '../components/Logo.vue';\nimport {\n\tMFA_AUTHENTICATION_RECOVERY_CODE_INPUT_MAX_LENGTH,\n\tMFA_AUTHENTICATION_TOKEN_INPUT_MAX_LENGTH,\n} from '@/constants';\nimport { useUsersStore } from '@/stores/users.store';\nimport { mapStores } from 'pinia';\nimport { mfaEventBus } from '@/event-bus';\nimport { defineComponent } from 'vue';\nimport { useToast } from '@/composables/useToast';\n\nexport const FORM = {\n\tMFA_TOKEN: 'MFA_TOKEN',\n\tMFA_RECOVERY_CODE: 'MFA_RECOVERY_CODE',\n} as const;\n\nexport default defineComponent({\n\tname: 'MfaView',\n\tcomponents: {\n\t\tLogo,\n\t},\n\tprops: {\n\t\treportError: Boolean,\n\t},\n\tsetup() {\n\t\treturn {\n\t\t\t...useToast(),\n\t\t};\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thasAnyChanges: false,\n\t\t\tformBus: mfaEventBus,\n\t\t\tformInputs: null as null | IFormInputs,\n\t\t\tshowRecoveryCodeForm: false,\n\t\t\tverifyingMfaToken: false,\n\t\t\tformError: '',\n\t\t};\n\t},\n\tasync mounted() {\n\t\tthis.formInputs = [this.mfaTokenFieldWithDefaults()];\n\t},\n\tcomputed: {\n\t\t...mapStores(useUsersStore),\n\t},\n\tmethods: {\n\t\tonRecoveryCodeClick() {\n\t\t\tthis.formError = '';\n\t\t\tthis.showRecoveryCodeForm = true;\n\t\t\tthis.hasAnyChanges = false;\n\t\t\tthis.formInputs = [this.mfaRecoveryCodeFieldWithDefaults()];\n\t\t\tthis.$emit('onFormChanged', FORM.MFA_RECOVERY_CODE);\n\t\t},\n\t\tonBackClick() {\n\t\t\tif (!this.showRecoveryCodeForm) {\n\t\t\t\tthis.$emit('onBackClick', FORM.MFA_TOKEN);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.showRecoveryCodeForm = false;\n\t\t\tthis.hasAnyChanges = true;\n\t\t\tthis.formInputs = [this.mfaTokenFieldWithDefaults()];\n\t\t\tthis.$emit('onBackClick', FORM.MFA_RECOVERY_CODE);\n\t\t},\n\t\tonInput({ target: { value, name } }: { target: { value: string; name: string } }) {\n\t\t\tconst isSubmittingMfaToken = name === 'token';\n\t\t\tconst inputValidLength = isSubmittingMfaToken\n\t\t\t\t? MFA_AUTHENTICATION_TOKEN_INPUT_MAX_LENGTH\n\t\t\t\t: MFA_AUTHENTICATION_RECOVERY_CODE_INPUT_MAX_LENGTH;\n\n\t\t\tif (value.length !== inputValidLength) {\n\t\t\t\tthis.hasAnyChanges = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.verifyingMfaToken = true;\n\t\t\tthis.hasAnyChanges = true;\n\n\t\t\tconst dataToSubmit = isSubmittingMfaToken\n\t\t\t\t? { token: value, recoveryCode: '' }\n\t\t\t\t: { token: '', recoveryCode: value };\n\n\t\t\tthis.onSubmit(dataToSubmit)\n\t\t\t\t.catch(() => {})\n\t\t\t\t.finally(() => (this.verifyingMfaToken = false));\n\t\t},\n\t\tasync onSubmit(form: { token: string; recoveryCode: string }) {\n\t\t\tthis.formError = !this.showRecoveryCodeForm\n\t\t\t\t? this.$locale.baseText('mfa.code.invalid')\n\t\t\t\t: this.$locale.baseText('mfa.recovery.invalid');\n\t\t\tthis.$emit('submit', form);\n\t\t},\n\t\tonSaveClick() {\n\t\t\tthis.formBus.emit('submit');\n\t\t},\n\t\tmfaTokenFieldWithDefaults() {\n\t\t\treturn this.formField(\n\t\t\t\t'token',\n\t\t\t\tthis.$locale.baseText('mfa.code.input.label'),\n\t\t\t\tthis.$locale.baseText('mfa.code.input.placeholder'),\n\t\t\t\tMFA_AUTHENTICATION_TOKEN_INPUT_MAX_LENGTH,\n\t\t\t);\n\t\t},\n\t\tmfaRecoveryCodeFieldWithDefaults() {\n\t\t\treturn this.formField(\n\t\t\t\t'recoveryCode',\n\t\t\t\tthis.$locale.baseText('mfa.recovery.input.label'),\n\t\t\t\tthis.$locale.baseText('mfa.recovery.input.placeholder'),\n\t\t\t\tMFA_AUTHENTICATION_RECOVERY_CODE_INPUT_MAX_LENGTH,\n\t\t\t);\n\t\t},\n\t\tformField(name: string, label: string, placeholder: string, maxlength: number, focus = true) {\n\t\t\treturn {\n\t\t\t\tname,\n\t\t\t\tinitialValue: '',\n\t\t\t\tproperties: {\n\t\t\t\t\tlabel,\n\t\t\t\t\tplaceholder,\n\t\t\t\t\tmaxlength,\n\t\t\t\t\tcapitalize: true,\n\t\t\t\t\tvalidateOnBlur: false,\n\t\t\t\t\tfocusInitially: focus,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\nbody {\n\tbackground-color: var(--color-background-light);\n}\n\n.container {\n\tdisplay: flex;\n\talign-items: center;\n\tflex-direction: column;\n\tpadding-top: var(--spacing-2xl);\n\n\t> * {\n\t\tmargin-bottom: var(--spacing-l);\n\t\twidth: 352px;\n\t}\n}\n\n.logoContainer {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.formContainer {\n\tpadding-bottom: var(--spacing-xl);\n}\n\n.headerContainer {\n\ttext-align: center;\n\tmargin-bottom: var(--spacing-xl);\n}\n\n.formError input {\n\tborder-color: var(--color-danger);\n}\n\n.recoveryCodeLink {\n\ttext-decoration: underline;\n}\n\n.infoBox {\n\tpadding-top: var(--spacing-4xs);\n}\n</style>\n","<template>\n\t<div>\n\t\t<AuthView\n\t\t\tv-if=\"!showMfaView\"\n\t\t\t:form=\"FORM_CONFIG\"\n\t\t\t:form-loading=\"loading\"\n\t\t\t:with-sso=\"true\"\n\t\t\tdata-test-id=\"signin-form\"\n\t\t\t@submit=\"onEmailPasswordSubmitted\"\n\t\t/>\n\t\t<MfaView\n\t\t\tv-if=\"showMfaView\"\n\t\t\t:report-error=\"reportError\"\n\t\t\t@submit=\"onMFASubmitted\"\n\t\t\t@on-back-click=\"onBackClick\"\n\t\t\t@on-form-changed=\"onFormChanged\"\n\t\t/>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport AuthView from './AuthView.vue';\nimport MfaView, { FORM } from './MfaView.vue';\nimport { useToast } from '@/composables/useToast';\nimport type { IFormBoxConfig } from '@/Interface';\nimport { MFA_AUTHENTICATION_REQUIRED_ERROR_CODE, VIEWS } from '@/constants';\nimport { mapStores } from 'pinia';\nimport { useUsersStore } from '@/stores/users.store';\nimport { useSettingsStore } from '@/stores/settings.store';\nimport { useCloudPlanStore } from '@/stores/cloudPlan.store';\nimport { useUIStore } from '@/stores/ui.store';\n\nexport default defineComponent({\n\tname: 'SigninView',\n\tcomponents: {\n\t\tAuthView,\n\t\tMfaView,\n\t},\n\tsetup() {\n\t\treturn {\n\t\t\t...useToast(),\n\t\t};\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tFORM_CONFIG: {} as IFormBoxConfig,\n\t\t\tloading: false,\n\t\t\tshowMfaView: false,\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\treportError: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapStores(useUsersStore, useSettingsStore, useUIStore, useCloudPlanStore),\n\t\tuserHasMfaEnabled() {\n\t\t\treturn !!this.usersStore.currentUser?.mfaEnabled;\n\t\t},\n\t},\n\tmounted() {\n\t\tlet emailLabel = this.$locale.baseText('auth.email');\n\t\tconst ldapLoginLabel = this.settingsStore.ldapLoginLabel;\n\t\tconst isLdapLoginEnabled = this.settingsStore.isLdapLoginEnabled;\n\t\tif (isLdapLoginEnabled && ldapLoginLabel) {\n\t\t\temailLabel = ldapLoginLabel;\n\t\t}\n\t\tthis.FORM_CONFIG = {\n\t\t\ttitle: this.$locale.baseText('auth.signin'),\n\t\t\tbuttonText: this.$locale.baseText('auth.signin'),\n\t\t\tredirectText: this.$locale.baseText('forgotPassword'),\n\t\t\tinputs: [\n\t\t\t\t{\n\t\t\t\t\tname: 'email',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tlabel: emailLabel,\n\t\t\t\t\t\ttype: 'email',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t...(!isLdapLoginEnabled && { validationRules: [{ name: 'VALID_EMAIL' }] }),\n\t\t\t\t\t\tshowRequiredAsterisk: false,\n\t\t\t\t\t\tvalidateOnBlur: false,\n\t\t\t\t\t\tautocomplete: 'email',\n\t\t\t\t\t\tcapitalize: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'password',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tlabel: this.$locale.baseText('auth.password'),\n\t\t\t\t\t\ttype: 'password',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tshowRequiredAsterisk: false,\n\t\t\t\t\t\tvalidateOnBlur: false,\n\t\t\t\t\t\tautocomplete: 'current-password',\n\t\t\t\t\t\tcapitalize: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\n\t\tif (!this.settingsStore.isDesktopDeployment) {\n\t\t\tthis.FORM_CONFIG.redirectLink = '/forgot-password';\n\t\t}\n\t},\n\tmethods: {\n\t\tasync onMFASubmitted(form: { token?: string; recoveryCode?: string }) {\n\t\t\tawait this.login({\n\t\t\t\temail: this.email,\n\t\t\t\tpassword: this.password,\n\t\t\t\ttoken: form.token,\n\t\t\t\trecoveryCode: form.recoveryCode,\n\t\t\t});\n\t\t},\n\t\tasync onEmailPasswordSubmitted(form: { email: string; password: string }) {\n\t\t\tawait this.login(form);\n\t\t},\n\t\tisRedirectSafe() {\n\t\t\tconst redirect = this.getRedirectQueryParameter();\n\t\t\treturn redirect.startsWith('/') || redirect.startsWith(window.location.origin);\n\t\t},\n\t\tgetRedirectQueryParameter() {\n\t\t\tlet redirect = '';\n\t\t\tif (typeof this.$route.query?.redirect === 'string') {\n\t\t\t\tredirect = decodeURIComponent(this.$route.query?.redirect);\n\t\t\t}\n\t\t\treturn redirect;\n\t\t},\n\t\tasync login(form: { email: string; password: string; token?: string; recoveryCode?: string }) {\n\t\t\ttry {\n\t\t\t\tthis.loading = true;\n\t\t\t\tawait this.usersStore.loginWithCreds({\n\t\t\t\t\temail: form.email,\n\t\t\t\t\tpassword: form.password,\n\t\t\t\t\tmfaToken: form.token,\n\t\t\t\t\tmfaRecoveryCode: form.recoveryCode,\n\t\t\t\t});\n\t\t\t\tthis.loading = false;\n\t\t\t\tif (this.settingsStore.isCloudDeployment) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait this.cloudPlanStore.checkForCloudPlanData();\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.warn('Failed to check for cloud plan data', error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tawait this.settingsStore.getSettings();\n\t\t\t\tthis.clearAllStickyNotifications();\n\n\t\t\t\tthis.$telemetry.track('User attempted to login', {\n\t\t\t\t\tresult: this.showMfaView ? 'mfa_success' : 'success',\n\t\t\t\t});\n\n\t\t\t\tif (this.isRedirectSafe()) {\n\t\t\t\t\tconst redirect = this.getRedirectQueryParameter();\n\t\t\t\t\tif (redirect.startsWith('http')) {\n\t\t\t\t\t\twindow.location.href = redirect;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvoid this.$router.push(redirect);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tawait this.$router.push({ name: VIEWS.HOMEPAGE });\n\t\t\t} catch (error) {\n\t\t\t\tif (error.errorCode === MFA_AUTHENTICATION_REQUIRED_ERROR_CODE) {\n\t\t\t\t\tthis.showMfaView = true;\n\t\t\t\t\tthis.cacheCredentials(form);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.$telemetry.track('User attempted to login', {\n\t\t\t\t\tresult: this.showMfaView ? 'mfa_token_rejected' : 'credentials_error',\n\t\t\t\t});\n\n\t\t\t\tif (!this.showMfaView) {\n\t\t\t\t\tthis.showError(error, this.$locale.baseText('auth.signin.error'));\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.reportError = true;\n\t\t\t}\n\t\t},\n\t\tonBackClick(fromForm: string) {\n\t\t\tthis.reportError = false;\n\t\t\tif (fromForm === FORM.MFA_TOKEN) {\n\t\t\t\tthis.showMfaView = false;\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\t\t},\n\t\tonFormChanged(toForm: string) {\n\t\t\tif (toForm === FORM.MFA_RECOVERY_CODE) {\n\t\t\t\tthis.reportError = false;\n\t\t\t}\n\t\t},\n\t\tcacheCredentials(form: { email: string; password: string }) {\n\t\t\tthis.email = form.email;\n\t\t\tthis.password = form.password;\n\t\t},\n\t},\n});\n</script>\n"],"names":["FORM","_sfc_main$1","defineComponent","Logo","useToast","mfaEventBus","mapStores","useUsersStore","value","name","isSubmittingMfaToken","inputValidLength","MFA_AUTHENTICATION_TOKEN_INPUT_MAX_LENGTH","MFA_AUTHENTICATION_RECOVERY_CODE_INPUT_MAX_LENGTH","dataToSubmit","form","label","placeholder","maxlength","focus","_resolveComponent","_normalizeClass","_ctx","_createVNode","_component_Logo","_component_n8n_card","_withCtx","_createElementVNode","_component_n8n_heading","$locale","_toDisplayString","formInputs","_openBlock","_component_n8n_form_inputs","formBus","onInput","onSubmit","_createCommentVNode","$style","showRecoveryCodeForm","reportError","_createBlock","_component_n8n_text","_createTextVNode","_cache","args","verifyingMfaToken","_sfc_main","AuthView","MfaView","useSettingsStore","useUIStore","useCloudPlanStore","_a","emailLabel","ldapLoginLabel","isLdapLoginEnabled","redirect","_b","error","VIEWS","MFA_AUTHENTICATION_REQUIRED_ERROR_CODE","fromForm","toForm","_createElementBlock","_component_AuthView","onEmailPasswordSubmitted","showMfaView","onBackClick"],"mappings":"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"}